<?xml version='1.0' encoding='utf-8'?>
<plugin id="cordova-plugin-beaconsff" version="1.0.11"
	xmlns="http://apache.org/cordova/ns/plugins/1.0"
	xmlns:android="http://schemas.android.com/apk/res/android"
	xmlns:tools="http://schemas.android.com/tools">

	<name>Beaconsff</name>

	<engines>
		<engine name="cordova" version=">=5.0.0"/>
	</engines>

	<js-module name="Beaconsff" src="www/Beaconsff.js">
		<clobbers target="Beaconsff"/>
	</js-module>


	<platform name="android">
		<framework src="org.altbeacon:android-beacon-library:2+"/>
		<framework src="androidx.appcompat:appcompat:1.1.0"/>
		<framework src="com.android.support:support-v4:+" />

		<config-file parent="/*" target="res/xml/config.xml">
			<feature name="Beaconsff">
				<param name="android-package" value="cordova.plugin.beaconsff.Beaconsff"/>
			</feature>
		</config-file>

		<config-file target="res/values/strings.xml" parent="/*" mode="merge">
			<string name="advertisement_service_name">Advertisement Service</string>
			<string name="monitoring_service_name">Monitor Service</string>
		</config-file>

		<edit-config file="AndroidManifest.xml" target="/manifest" mode="merge">
			<manifest xmlns:tools="http://schemas.android.com/tools">
				<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
				<uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION" />
				<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
				<uses-permission android:name="android.permission.INTERNET" />
				<uses-permission android:name="android.permission.WAKE_LOCK" />
				<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
			</manifest>
		</edit-config>



		<!-- <edit-config file="app/src/main/AndroidManifest.xml" target="/manifest/application" mode="merge"
			xmlns:android="http://schemas.android.com/apk/res/android">

			<application android:networkSecurityConfig="@xml/network_security_config">

				<service android:name="cordova.plugin.beaconsff.AdvertisementService" android:enabled="true" android:exported="false" android:label="@string/advertisement_service_name">
				</service>

				<service android:name="cordova.plugin.beaconsff.MonitoringService" android:enabled="true" android:exported="false" android:label="@string/monitoring_service_name">
					<meta-data android:name="longScanForcingEnabled" android:value="true"/>
				</service>

				<service android:name="org.altbeacon.beacon.service.BeaconService" tools:node="replace">
					<meta-data android:name="longScanForcingEnabled" android:value="true"/>
				</service>

				<receiver android:enabled="true" android:name="cordova.plugin.beaconsff.StartReceiver">
					<intent-filter>
						<action android:name="android.intent.action.BOOT_COMPLETED"/>
					</intent-filter>
				</receiver>

			</application>
		</edit-config> -->

		<source-file src="src/android/StartReceiver.java" target-dir="src/cordova/plugin/beaconsff"/>
		<source-file src="src/android/Beaconsff.java" target-dir="src/cordova/plugin/beaconsff"/>
		<source-file src="src/android/MonitoringService.java" target-dir="src/cordova/plugin/beaconsff"/>
		<source-file src="src/android/AdvertisementService.java" target-dir="src/cordova/plugin/beaconsff"/>

	</platform>
</plugin>


<!-- <manifest android:hardwareAccelerated="true" android:versionCode="1" android:versionName="0.0.1" package="io.ionic.starter" xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools">
    <supports-screens android:anyDensity="true" android:largeScreens="true" android:normalScreens="true" android:resizeable="true" android:smallScreens="true" android:xlargeScreens="true" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION" />
    <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <application android:hardwareAccelerated="true" android:icon="@mipmap/ic_launcher" android:label="@string/app_name" android:networkSecurityConfig="@xml/network_security_config" android:supportsRtl="true">
        <activity android:configChanges="orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode" android:label="@string/activity_name" android:launchMode="singleTop" android:name="MainActivity" android:theme="@android:style/Theme.DeviceDefault.NoActionBar" android:windowSoftInputMode="adjustResize">
            <intent-filter android:label="@string/launcher_name">
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <service android:enabled="true" android:exported="false" android:label="@string/monitoring_service_name" android:name="cordova.plugin.beaconsff.MonitoringService">
        </service>
        <service android:name="org.altbeacon.beacon.service.BeaconService" tools:node="replace">
            <meta-data android:name="longScanForcingEnabled" android:value="true" />
        </service>
        <service android:enabled="true" android:exported="false" android:label="@string/advertisement_service_name" android:name="cordova.plugin.beaconsff.AdvertisementService">
        </service>
        <receiver android:enabled="true" android:name="cordova.plugin.beaconsff.StartReceiver">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
            </intent-filter>
        </receiver>
    </application>
</manifest> -->